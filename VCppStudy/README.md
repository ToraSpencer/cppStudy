# VCppStudy
***
## 网络资源
[WINDOWS程序设计公开课——小甲鱼](https://www.bilibili.com/video/BV1hx411Y7dF)
[小甲鱼WINDOWS程序设计公开课笔记](https://fishc.com.cn/forum.php?mod=forumdisplay&fid=255&page=1&filter=typeid&typeid=407)



# 暂时不知如何分类的笔记

## SDK
*	Software   Development   Kit （软件开发包）



## MFC 
*	MicroSoft   Foundations   Classes （微软基础类库）











# note
*	将工作项目中学到的各种宏定义用到学习项目中。





# tips
*	一个解决方案中可以有多个项目。
*	项目之间可以有依赖关系，比如在项目A的引用中添加项目B，表示A依赖于B，比如A需要B的输出文件作为输入。
*	同一个解决方案中，右键点击某一个项目可以指定其为启动项目，然后就可以使用本地windows调试器对其调试。


# VS快捷键
**快捷键折叠所有代码**
	*	CTRL+M+O;

**注释选中行**
	*	CTRL+K然后CTRL+C

**取消注释选中行**
	*	CTRL+K然后CTRL+U



# VS命令行界面
* 程序位置：开始菜单->Visual Studio\ Visual Studio Tools\Windows Desktop Command Prompts
* 命令行界面下可以使用很多VS命令行工具，如lib.exe, dumpbin.exe...
* 命令行工具程序所在位置：/VC/bin

lib.exe
	*	创建、分析.lib文件的工具。

lib /list 文件名
	*	查看.lib文件中

dumpbin.exe
	*	分析动态库文件的工具。

dumbpin /dependents 文件名
	*	查看该.exe或.dll文件所依赖的动态库。

dumpbin /exports 文件名
	*	查看该.dll文件导出的函数的符号。

dumpbin /imports 文件名
	*	查看该.exe或.dll文件加载了哪些动态库。

dumpbin  /headers 文件名
	*	查看该.dll或.exe文件头部信息。
	*	头部里面可以看到很多有用信息，如：
		1.	程序是支持64 位的还是32位的，
		2.	程序生成时间 
		3.	DLL开放的方法名称，相对地址   


# VS项目配置
项目配置添加第三方库：
	*	项目属性页 → VC++目录 → 包含目录： 添加include头文件的路径
	*	项目属性页 → VC++目录 → 库目录：添加.lib静态库目录
	*	项目属性页 → 链接器 → 输入 → 附加依赖项：具体的.lib文件的名称。        
	*	项目属性页 → 添加动态库：系统环境变量中，加入.dll文件所在路径。

更改编译平台位数、编译模式
	*	工具栏中可选择debug/release，x86/x64

更改目标机位数
	*	项目属性页 → 链接器 → 高级 → 目标计算机

环境变量常用环境变量$(SolutionDir)    
	*	解决方案目录：即.sln文件所在路径



# VS环境变量
$(ProjectDir)    
	*	项目根目录:, 即.vcxproj文件所在路径

$(Configuration)    
	*	当前的编译配置名称，比如Debug，或Release

$(OutDir)    
	*	项目输出文件目录

$(TargetDir)    
	*	项目输出文件目录

$(TargetName)    
	*	项目生成目标文件, 通常和$(ProjectName)同名, 如Game

$(TargetExt)    
	*	项目生成文件后缀名，如.exe, .lib具体取决于工程设置

$(TargetFileName)    
	*	项目输出文件名字。
	*	比如Game.exe, 等于 <script type="math/tex" id="MathJax-Element-1">(TargetName) + </script>(TargetExt)

$(ProjectExt)    
	*	工程文件后缀名，如.vcxproj

$(ProjectName)    
	*	当前项目名称

$(SolutionName)   
	*	解决方案名称

项目文件.sln
	*	解决方案文件，主要包括工程项目组织结构、位置、工程编译环境配置等信息；

.ncb(no compile browser)
	*	VC++自动创建的信息跟踪文件，可以删除，重新打开解决方案后会自动再次创建，此文件一般比较大；

.vcproj、.vcxproj
	*	项目工程文件，里面包含的该工程的工具集、工程编译、链接、调试等相关的配置；不同VS IDE的项目转化，可以通过修改此文件实现，低版本转高版本IDE，则直接打开即可，而高版本转到低版本需要修改工程文件，另外版本间转化可能会出现某些API使用等限制，可能需要修改、替换；vcproj与vcxproj内容、结构还是有所差异，转化时需要修改的地方比较多，如果修改的地方比较多，可以重新建立工程将相应文件添加进去，修改工程属性也可；

.vcxproj.user
	*	不同用户有不同的本地用户配置，主要是一些窗体布局、位置等，与项目具体内容一般无关，可以删除；

aps：
	*	主要记录资源信息, aps 可以删除,进入程序,重新打开解决方案后会自动生成；

.VC.db
	*	SQLite3格式的文件，里面应是项目相关的文件信息，同ncb、sdf文件，一般比较大，可以删除，重新打开解决方案后会自动创建；

.props/.vsprops
	*	工程属性表文件
	*	后者为vs2008的，前者为vs2010及以后版本的
	*	其主要包含工程属性配置相关，可以单独提取出来供不同工程项目公共使用；

.pdb
	*	调试的符号文件，程序数据库 (PDB) 文件保存着调试和项目状态信息，使用这些信息可以对程序的调试配置；

.exe
	*	编译、链接后产生的可执行文件，当然也可以是库，exe相对obj来说，前者提供的是绝对地址，而后者只是提供相好地址；

.obj：
	*	c、cpp编译后的二进制目标文件，一般提供给IDE链接用的，当然也可以将其发给客户或开发人员使用并提供h头文件，不过这样的做法很少，一般给用户的是编译后的dll或exe；

.lib
	*	分为静态库文件和动态库dll的引入库文件，前者供其他模块或程序静态链接，后者只是提供方便的隐式链接而不是调用LoadLibrary和频繁的GetProcessAddress；

.dll
	*	动态库文件，供客户或其他开发人员使用，一般附加h头文件，或者某些还提供lib引入库或def文件；

.ilk
	*	增量链接期间产生的临时文件，若取消生成，则可能导致编译链接比较慢；

.log
	*	主要记录编译过程中的输出信息、日志；

.manifest：
	*	VS提供的程序部署、清单文件，在早些时候编译的Debug或Release版本的程序时需要提供该清单文件，不过可以通过配置工程属性实现程序的内嵌该清单文件，此外还可以根据需要提供额外的其他清单文件；

.rc/rc2：
	*	资源文件，应用程序中用到的所有的资源，其中rc文件中的资源可以直接在VC集成环境中以可视化的方法进行编辑和修改，rc2则可根据需要只能手动修改，一般使用的时候可根据需要在rc文件中包含rc2文件；rc2文件可以单独独立提出来，供不同工程项目rc文件include使用而不用每个工程都去创建相同的rc2文件内容，不同项目工程应有自己的rc文件，事实上rc文件中还可以包含其他的rc文件；

.ico：
	*	应用程序的图标资源文件；

.suo：
	*	储存了用户界面的自定义配置，包括布局、断点和项目最后编译的而又没有关掉的文件等，以便下一次你打开Visual Studio可以恢复这些设置，一般为隐藏文件；

.sdf：
	*	解决方案工程信息数据库文件，此文件同ncb文件，都比较大，也可以删除，重新打开解决方案后会自动创建，主要提供提供的智能感知、代码恢复等信息；

.ipch：
	*	主要保存预编译的头文件和智能提示信息用的，也可以删除，重新打开解决方案后会自动创建；

.filters：
	*	一般为虚拟目录，及项目工程解决方案视图下分类过滤器目录，一般不要删除，否则可能导致所有文件杂糅在一起；

def：
	*	一般是用作动态库导出文件，里面主要包含导出库名、描述、导出的各个函数；若不使用export导出函数或类，可采用def的方式也比较简单，而且还可以导出相同函数地址的不同得名称，其可防止导出函数重命名，以供其他编程语言或工具使用；

exp
	*	生成动态库dll时的临时导出库，主要用在多个库相应引用链接时，供IDE使用；一般客户或开发人员不会使用到该文件；


